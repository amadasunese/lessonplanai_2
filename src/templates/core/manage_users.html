{% extends '_base.html' %}

{% block content %}
  <h3>Registered Users</h3>
  <button onclick="window.history.back();">Go Back</button>

  <table style="border-collapse: collapse; width: 100%;">
    <tr>
      <th style="border: 1px solid black;">Email</th>
      <th style="border: 1px solid black;">First Name</th>
      <th style="border: 1px solid black;">Last Name</th>
      <th style="border: 1px solid black;">Is Admin?</th>
      <th style="border: 1px solid black;">Is Confirmed?</th>
      <th style="border: 1px solid black;">Confirmed On</th>
      <th style="border: 1px solid black;">Actions</th>
    </tr>

    {% for user in users %}
      <tr>
        <td style="border: 1px solid black;">{{ user.email }}</td>
        <td style="border: 1px solid black;">{{ user.first_name }}</td>
        <td style="border: 1px solid black;">{{ user.last_name }}</td>
        <td style="border: 1px solid black;">{{ 'Yes' if user.is_admin else 'No' }}</td>
        <td style="border: 1px solid black;">{{ 'Yes' if user.is_confirmed else 'No' }}</td>
        <td style="border: 1px solid black;">{{ user.confirmed_on.strftime('%Y-%m-%d %H:%M:%S') if user.confirmed_on else 'Not Confirmed' }}</td>
        <td style="border: 1px solid black;">
          <a href="{{ url_for('core.delete_user', user_id=user.id) }}">Remove</a>
        </td>
      </tr>
    {% endfor %}
  </table>

{% endblock %}
